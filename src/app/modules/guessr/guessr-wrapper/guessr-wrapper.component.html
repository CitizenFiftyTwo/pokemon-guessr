@let score = score$ | async;
@let numberOfRounds = numberOfRounds$ | async;
@let pokemon = pokemon$ | async;
<ng-container *ngIf="!displayResult else result">
  <div class="score-container">
    <span class="score">{{ 'POKEMON_GUESSR.ROUND' | translate }} : {{ roundNumber }} / {{ numberOfRounds }}</span>
    <p-chip class="chip" [label]="('POKEMON_GUESSR.SCORE' | translate) + ' : ' + score"/>
  </div>
  <div class="pokemon-card">
    <ng-container *ngIf="!!pokemon else loader">
      <div class="pokemon-ring">
        <div class="pokemon-ring__circle"></div>
      </div>
      <img
        [ngClass]="{shadow: isShadowMode$ | async}"
        src="{{ pokemon.pictureUrl }}"
        alt="Who's that pokemon?"
        class="pokemon-image"
      />
      <span *ngIf="displayPokemonName" class="pokemon-name">{{ pokemon.name }}</span>
    </ng-container>
  </div>
  <app-guessr-input
    [isCompactView]="isCompactView"
    [pokemonName]="pokemon?.name || ''"
    (nextPokemonRequested)="getNextPokemon(numberOfRounds || 0)"
    (resultScoreSubmitted)="handleResultScore($event)"
  ></app-guessr-input>
</ng-container>
<ng-template #loader>
  <app-loader [isCompactView]="isCompactView"></app-loader>
</ng-template>
<ng-template #result>
  <app-result [score]="score || 0" [numberOfRounds]="numberOfRounds || 0"></app-result>
</ng-template>
